# Nova Serverless Platform Configuration

# Postgres (all persistent storage: functions, logs, API keys, secrets, rate limiting)
postgres:
  dsn: "postgres://nova:nova@localhost:5432/nova?sslmode=disable"

# Firecracker
firecracker:
  binary: "/opt/nova/bin/firecracker"
  kernel: "/opt/nova/kernel/vmlinux"
  rootfs_dir: "/opt/nova/rootfs"
  snapshot_dir: "/opt/nova/snapshots"
  socket_dir: "/tmp/nova/sockets"
  vsock_dir: "/tmp/nova/vsock"
  log_dir: "/tmp/nova/logs"
  boot_timeout: "10s"

# VM Pool
pool:
  idle_ttl: "60s"   # destroy VM after 1 min idle

# Secrets encryption
secrets:
  enabled: true
  master_key: "1710f674b5e29cd55bba9c1481625ac255886d763ed7dd6aeab8b21382910d1e"

# Rootfs mapping:
#   base.ext4   -> Go, Rust  (static binaries, no runtime needed)
#   python.ext4 -> Python    (needs interpreter)
#   wasm.ext4   -> WASM      (needs wasmtime)
#   node.ext4   -> Node.js   (needs node)
#   ruby.ext4   -> Ruby      (needs ruby)
#   java.ext4   -> Java      (needs JVM)
#   php.ext4    -> PHP       (needs php)
#   deno.ext4   -> Deno      (needs deno)
#   bun.ext4    -> Bun       (needs bun)
